$(".ui.dropdown").dropdown();
$(".menu .item").tab();
$('.ui.accordion').accordion(
  {exclusive : false}
);

// Global Variable
const NonceValue = "rdsystem2020";
const LogoutProtect = true;

const ColorOwner  = "#00139f";
const ColorRelease= "#8d8d8d";

var vusrnm = getCookie("usrnm");
var vtoken = getCookie("token");
var restlocpsc = decodeURIComponent(getCookie("restlocpsc"));
let Ucrypt = new Encryption();
var Udecrypt = Ucrypt.decrypt(EncU, NonceValue);
var Sdecrypt = Ucrypt.decrypt(EncS, NonceValue);
var Jdecrypt = Ucrypt.decrypt(EncJ, NonceValue);
var sign_c  = "";
var sign_e  = "";
var sign_m  = "";
var sign_i  = "";
var date_c  = "";
var date_e  = "";
var date_m  = "";
var date_i  = "";

var sign_hc = "";
var sign_he = "";
var sign_hm = "";
var sign_hi = "";

var name_hc = "";
var name_he = "";
var name_hm = "";
var name_hi = "";

var sign_hog = "";
var sign_pl  = "";
var sign_hod = "";
var sign_release = "";

var date_hc = "";
var date_he = "";
var date_hm = "";
var date_hi = "";

var date_hog = "";
var date_pl  = "";
var date_hod = "";
var date_release = "";

var picc_hog = "";
var picc_pl = "";
var picc_hod = "";

var MsgCy = "";
var MsgEl = "";
var MsgMD = "";
var MsgID = "";






//Fungsi Load Sign
function LoadDataSign(){
  if(groupprd =="BROWN GOODS"){
    var SecCy = "";
    var SecEl = "ELECTRONIC";
    var SecMD = "MD";
    var SecID = "ID";
  } else {
    var SecCy = "CYCLE";
    var SecEl = "ELECTRONIC";
    var SecMD = "MD";
    var SecID = "ID";
  }
  $.ajax({
    type    : "POST",
    url     : `${restlocpsc}loadallsign`,
    headers : {
      user  : vusrnm,
      token : vtoken
    },
    data: {
      PSCId    : idpsc,
      SecCy    : SecCy,
      SecEl    : SecEl,
      SecMD    : SecMD,
      SecID    : SecID,
    },
    cache: false,
    success: function (response){
      var obj = JSON.parse(response);
      jmlData = obj['read_sign'].length;
      var Msg = obj['read_result'].message;
      var Sts = obj['read_result'].status;
      
      for (a = 0; a < jmlData; a++) {

        
        if(obj['read_sign'][a]['jabatan'] =='ENGINEER' && obj['read_sign'][a]['signed_role'] =='ELECTRONIC HARDWARE' ){
          sign_e  = obj['read_sign'][a]['status_sign'];
          date_e  = obj['read_sign'][a]['signed_date'];
          picc_e  = obj['read_sign'][a]['pic'];
          $('.DesElec').text(picc_e);
        }
        if(obj['read_sign'][a]['jabatan'] =='ENGINEER' && obj['read_sign'][a]['signed_role'] =='CYCLE UNIT' ){
          sign_c  = obj['read_sign'][a]['status_sign'];
          date_c  = obj['read_sign'][a]['signed_date'];
          picc_c  = obj['read_sign'][a]['pic'];
          $('.DesCycle').text(picc_c);

        }
        if(obj['read_sign'][a]['jabatan'] =='ENGINEER' && obj['read_sign'][a]['signed_role'] =='MECHANICAL DESIGN' ){
          sign_m  = obj['read_sign'][a]['status_sign'];
          date_m  = obj['read_sign'][a]['signed_date'];
          picc_m  = obj['read_sign'][a]['pic'];
          $('.DesMech').text(picc_m);
        }
        if(obj['read_sign'][a]['jabatan'] =='ENGINEER' && obj['read_sign'][a]['signed_role'] =='INDUSTRIAL DESIGN' ){
          sign_i  = obj['read_sign'][a]['status_sign'];
          date_i  = obj['read_sign'][a]['signed_date'];
          picc_i  = obj['read_sign'][a]['pic'];
          $('.DesInd').text(picc_i);
        }




        if(obj['read_sign'][a]['jabatan'] =='HEAD OF' && obj['read_sign'][a]['signed_role'] =='HEAD OF ELECTRONIC HARDWARE' ){
          sign_he  = obj['read_sign'][a]['status_sign'];
          date_he  = obj['read_sign'][a]['signed_date'];
          picc_he  = obj['read_sign'][a]['pic'];
          $('.electpic_h').text(obj['read_sign'][a]['pic']);
          
        }
        if(obj['read_sign'][a]['jabatan'] =='HEAD OF' && obj['read_sign'][a]['signed_role'] =='HEAD OF CYCLE UNIT' ){
          sign_hc  = obj['read_sign'][a]['status_sign'];
          date_hc  = obj['read_sign'][a]['signed_date'];
          picc_hc  = obj['read_sign'][a]['pic'];
          $('.cyclepic_h').text(obj['read_sign'][a]['pic']);
        }
        if(obj['read_sign'][a]['jabatan'] =='HEAD OF' && obj['read_sign'][a]['signed_role'] =='HEAD OF MECHANICAL DESIGN' ){
          sign_hm  = obj['read_sign'][a]['status_sign'];
          date_hm  = obj['read_sign'][a]['signed_date'];
          picc_hm  = obj['read_sign'][a]['pic'];
          $('.mdpic_h').text(obj['read_sign'][a]['pic']);
        }
        if(obj['read_sign'][a]['jabatan'] =='HEAD OF' && obj['read_sign'][a]['signed_role'] =='HEAD OF INDUSTRIAL DESIGN' ){
          sign_hi  = obj['read_sign'][a]['status_sign'];
          date_hi  = obj['read_sign'][a]['signed_date'];
          picc_hi  = obj['read_sign'][a]['pic'];
          $('.idpic_h').text(obj['read_sign'][a]['pic']);
        }


        if(obj['read_sign'][a]['signed_role'] =='HEAD OF GROUP PRODUCT' ){
          sign_hog  = obj['read_sign'][a]['status_sign'];
          date_hog  = obj['read_sign'][a]['signed_date'];
          picc_hog  = obj['read_sign'][a]['pic'];
          $('.headofgrouppic').text(picc_hog);
        }

        if(obj['read_sign'][a]['signed_role'] =='PROJECT LEADER' ){
          sign_pl  = obj['read_sign'][a]['status_sign'];
          date_pl  = obj['read_sign'][a]['signed_date'];
          picc_pl  = obj['read_sign'][a]['pic'];
          $('.plpic').text(picc_pl);
        }

        if(obj['read_sign'][a]['signed_role'] =='HEAD OF DQA' ){
          sign_hod  = obj['read_sign'][a]['status_sign'];
          date_hod  = obj['read_sign'][a]['signed_date'];
          picc_hod  = obj['read_sign'][a]['pic'];
          $('.headofdqapic').text(picc_hod);
        }

        if(obj['read_sign'][a]['signed_role'] =='RELEASE' ){
          sign_release  = obj['read_sign'][a]['status_sign'];
          date_release  = obj['read_sign'][a]['signed_date'];
          pic_release   = obj['read_sign'][a]['signed_by'];
        }

        //Head Of Sign Check
        if(sign_hc =="NOT SIGN" && sign_c =="SIGN" ){
          $('#cyclests_h').html('<a class="ui small label teal hosign" nm="'+picc_hc+'" rl="HEAD OF CYCLE UNIT">APPROVE</a>');
          $('#cycledate_h').text('');
        } else if(sign_hc =="SIGN"){
          $('#cyclests_h').html('<label class="ui basic small label teal">APPROVED</label>');
          $('#cycledate_h').text(date_hc);
        } else {
          $('#cyclests_h').text('');
          $('#cycledate_h').text('');
        }

        if(sign_he =="NOT SIGN" && sign_e =="SIGN"){
          $('#electsts_h').html('<a class="ui small label teal hosign" nm="'+picc_he+'" rl="HEAD OF ELECTRONIC HARDWARE">APPROVE</a>');
          $('#electdate_h').text('');
        } else if(sign_he =="SIGN") {
          $('#electsts_h').html('<label class="ui basic small label teal">APPROVED</label>');
          $('#electdate_h').text(date_he);
        } else {
          $('#electsts_h').text('');
          $('#electdate_h').text('');
        }

        if(sign_hm =="NOT SIGN" && sign_m =="SIGN"){
          $('#mdsts_h').html('<a class="ui small label teal hosign" nm="'+picc_hm+'" rl="HEAD OF MECHANICAL DESIGN">APPROVE</a>');
          $('#mddate_h').text('');
        } else if(sign_hm =="SIGN"){
          $('#mdsts_h').html('<label class="ui basic small label teal">APPROVED</label>');
          $('#mddate_h').text(date_hm);
        } else {
          $('#mdsts_h').text('');
          $('#mddate_h').text('');
        }

        if(sign_hi =="NOT SIGN" && sign_i =="SIGN"){
          $('#idsts_h').html('<a class="ui small label teal hosign" nm="'+picc_hi+'" rl="HEAD OF INDUSTRIAL DESIGN">APPROVE</a>');
          $('#iddate_h').text('');
        } else if(sign_hi =="SIGN"){
          $('#idsts_h').html('<label class="ui basic small label teal">APPROVED</label>');
          $('#iddate_h').text(date_hi);
        } else {
          $('#idsts_h').text('');
          $('#iddate_h').text('');
        }

        $('#pldate').html(moment(date_pl).format('ddd, DD MMM YYYY'));
        $('#headofgroupdate').html(moment(date_hog).format('ddd, DD MMM YYYY'));

        // DQA Sign Check
        if(sign_hod =="SIGN" ){
          $('#headofdqadate').text(date_hod);
          $('#BtnSignHOD').text('Confirmed');
          $('#BtnSignHOD').addClass('basic green');
          $('#StsSignHOD').val('confirmed');
          $('.PICcheckerlistCy').removeClass('disabled');
          $('.PICcheckerlistEl').removeClass('disabled');
          $('.PICcheckerlistMd').removeClass('disabled');
          $('.PICcheckerlistId').removeClass('disabled');
        } else {
          $('#headofdqadate').text('-');
          $('#BtnSignHOD').text('Confirm');
          $('#StsSignHOD').val('');
          $('.PICcheckerlistCy').addClass('disabled');
          $('.PICcheckerlistEl').addClass('disabled');
          $('.PICcheckerlistMd').addClass('disabled');
          $('.PICcheckerlistId').addClass('disabled');

        }
       
      }

      // DQA Release PSC Check
      if(sign_hod =="SIGN"){
        if(sign_release == "NOT RELEASE"){
          if((Msg === "OK") && Sts && (Sdecrypt == "DQA") && (Jdecrypt === "HEAD OF")){
            $('#headofdqappicrelease').text('');
            $('#BtnSignRelease').text('Release');
            $('#BtnSignRelease').removeClass('disabled grey basic');
            $('#BtnSignRelease').addClass('green');
            $('#StsSignRelease').val('');
            $('.PICcheckerlistCy').removeClass('disabled');
            $('.PICcheckerlistEl').removeClass('disabled');
            $('.PICcheckerlistMd').removeClass('disabled');
            $('.PICcheckerlistId').removeClass('disabled');

          } else {
            $('#headofdqappicrelease').text('');
            $('#BtnSignRelease').text('Release');
            $('#BtnSignRelease').addClass('basic grey disabled');
            $('#BtnSignRelease').removeClass('green');
            $('#StsSignRelease').val('released');
            $('.PICcheckerlistCy').removeClass('disabled');
            $('.PICcheckerlistEl').removeClass('disabled');
            $('.PICcheckerlistMd').removeClass('disabled');
            $('.PICcheckerlistId').removeClass('disabled');
          }
        } else {
          $('#headofdqappicrelease').text(pic_release);
          $('#releasedate').text(date_release);
          $('#BtnSignRelease').text('Released');
          $('#BtnSignRelease').addClass('green basic');
          $('#BtnSignRelease').removeClass('disabled');
          $('#StsSignRelease').val('released');
          $('.PICcheckerlistCy').addClass('disabled');
          $('.PICcheckerlistEl').addClass('disabled');
          $('.PICcheckerlistMd').addClass('disabled');
          $('.PICcheckerlistId').addClass('disabled');
        }
      } else {
        $('#headofdqappicrelease').text('');
        $('#releasedate').text('-');
        $('#BtnSignRelease').text('Release');
        $('#BtnSignRelease').addClass('basic grey disabled');
        $('#BtnSignRelease').removeClass('green');
        $('#StsSignRelease').val('not ready');
        $('#StsSignRelease').val('released');
      }

    },
    error: function () {
      if (LogoutProtect){
        window.location.href = "./?link=loclogout";
      } else {
        Swal.fire("Error", "Server tidak merespon, segera hubungi Administrator di ext. 3553 !","error" );
      }
    },
  });
}


//Fungsi Load PIC DQA
function LoadDataPICDQA(section){
  $.ajax({
    type    : "POST",
    url     : `${restlocpsc}table_checker`,
    headers : {
      user  : vusrnm,
      token : vtoken
    },
    data: {
      id_psc    : idpsc,
      section  : section,
    },
    cache: false,
    success: function (response){
      var obj = JSON.parse(response);
      jmlobj = obj.length;
      for (a = 0; a < jmlobj; a++) {
        if(obj[a]['section']==='CYCLE'){
          if(obj[a]['role']==='PERFORMANCE'){
            $("#PICDQAPerfC").val();
            $("#PICDQAPerfC").val(obj[a]['pic']);
            // console.log(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignPerfC").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignPerfC").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignPerfC").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignPerfC").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MEASUREMENT'){
            $("#PICDQAMeasC").val();
            $("#PICDQAMeasC").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicCy.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMeasC").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMeasC").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMeasC").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMeasC").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='RELIABILITY'){
            $("#PICDQAReliaC").val();
            $("#PICDQAReliaC").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicCy.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignReliaC").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignReliaC").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignReliaC").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignReliaC").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='SAFETY'){
            $("#PICDQASafC").val();
            $("#PICDQASafC").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicCy.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignSafC").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignSafC").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignSafC").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignSafC").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MECHANIC'){
            $("#PICDQAMechC").val();
            $("#PICDQAMechC").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicCy.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMechC").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMechC").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMechC").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMechC").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='REGULASI'){
            $("#PICDQARegC").val();
            $("#PICDQARegC").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicCy.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignRegC").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignRegC").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignRegC").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignRegC").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } 
        } else if(obj[a]['section']==='ELECTRONIC'){
          if(obj[a]['role']==='PERFORMANCE'){
            $("#PICDQAPerfE").val();
            $("#PICDQAPerfE").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicEl.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignPerfE").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignPerfE").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignPerfE").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignPerfE").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MEASUREMENT'){
            $("#PICDQAMeasE").val();
            $("#PICDQAMeasE").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicEl.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMeasE").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMeasE").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMeasE").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMeasE").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='RELIABILITY'){
            $("#PICDQAReliaE").val();
            $("#PICDQAReliaE").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicEl.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignReliaE").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignReliaE").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignReliaE").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignReliaE").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='SAFETY'){
            $("#PICDQASafE").val();
            $("#PICDQASafE").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicEl.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignSafE").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignSafE").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignSafE").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignSafE").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MECHANIC'){
            $("#PICDQAMechE").val();
            $("#PICDQAMechE").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicEl.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMechE").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMechE").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMechE").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMechE").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='REGULASI'){
            $("#PICDQARegE").val();
            $("#PICDQARegE").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicEl.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignRegE").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignRegE").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignRegE").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignRegE").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } 
        } else if(obj[a]['section']==='MD'){
          if(obj[a]['role']==='PERFORMANCE'){
            $("#PICDQAPerfM").val();
            $("#PICDQAPerfM").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicMd.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignPerfM").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignPerfM").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignPerfM").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignPerfM").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MEASUREMENT'){
            $("#PICDQAMeasM").val();
            $("#PICDQAMeasM").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicMd.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMeasM").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMeasM").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMeasM").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMeasM").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='RELIABILITY'){
            $("#PICDQAReliaM").val();
            $("#PICDQAReliaM").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicMd.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignReliaM").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignReliaM").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignReliaM").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignReliaM").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='SAFETY'){
            $("#PICDQASafM").val();
            $("#PICDQASafM").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicMd.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignSafM").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignSafM").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignSafM").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignSafM").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MECHANIC'){
            $("#PICDQAMechM").val();
            $("#PICDQAMechM").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicMd.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMechM").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMechM").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMechM").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMechM").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='REGULASI'){
            $("#PICDQARegM").val();
            $("#PICDQARegM").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicMd.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignRegM").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignRegM").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignRegM").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignRegM").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } 
        } else if(obj[a]['section']==='ID'){
          if(obj[a]['role']==='PERFORMANCE'){
            $("#PICDQAPerfI").val();
            $("#PICDQAPerfI").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicId.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignPerfI").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignPerfI").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignPerfI").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignPerfI").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MEASUREMENT'){
            $("#PICDQAMeasI").val();
            $("#PICDQAMeasI").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicId.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMeasI").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMeasI").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMeasI").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMeasI").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='RELIABILITY'){
            $("#PICDQAReliaI").val();
            $("#PICDQAReliaI").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicId.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignReliaI").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignReliaI").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignReliaI").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignReliaI").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='SAFETY'){
            $("#PICDQASafI").val();
            $("#PICDQASafI").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicId.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignSafI").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignSafI").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignSafI").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignSafI").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='MECHANIC'){
            $("#PICDQAMechI").val();
            $("#PICDQAMechI").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicId.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignMechI").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignMechI").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignMechI").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignMechI").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } else if(obj[a]['role']==='REGULASI'){
            $("#PICDQARegI").val();
            $("#PICDQARegI").val(obj[a]['pic']);
            if(obj[a]['status_sign']==='NOT SIGN'){
              //PicId.push(obj[a]['pic']);
              if(obj[a]['pic'] == Udecrypt) {
                $("#SignRegI").html("<a class='ui teal tiny label BtnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' >SIGN</a>");
              } else {
                $("#SignRegI").html("<a class='ui basic grey tiny label' >PROSES</a>");
              }
            } else if(obj[a]['status_sign']==='RETURN'){
              $("#SignRegI").html("<a class='ui basic grey tiny label' >RETURN</a>");
            } else {
              $("#SignRegI").html("<a class='ui basic teal tiny label BtnUnSignPIC' idchk='"+obj[a]['id_checker']+"' sect='"+section+"' picc='"+obj[a]['pic']+"' data-tooltip='Klik untuk un-sign' data-inverted=''>SIGNED</a>");
            }
          } 
        }

      }
    },
    error: function () {
      if (LogoutProtect){
        window.location.href = "./?link=loclogout";
      } else {
        Swal.fire("Error", "Server tidak merespon, segera hubungi Administrator di ext. 3553 !","error" );
      }
    },
  });
}

//Load Data Content ------------------------------
function LoadDataContent(section){

  if(section =="CYCLE"){
    var TC = "#TableContentC";
  } else if(section =="ELECTRONIC"){
    var TC = "#TableContentE";
  } else if(section =="MD"){
    var TC = "#TableContentM";
  } else if(section =="ID"){
    var TC = "#TableContentI";
  } 
  $.ajax({
    type    : "POST",
    url     : `${restlocpsc}loadcontentvalue`,
    headers : {
      user  : vusrnm,
      token : vtoken
    },
    data: {
      PSCId    : idpsc,
      section  : section,
      produk   : pprd,
      jenisprd : jprd
    },
    cache: false,
    success: function (response){
      var obj = JSON.parse(response);
      if (isEmpty(obj)) {
        console.log("Gagal load, data kosong");
        return false;
      } else if (obj) {
        $(TC).empty();
        var Finalresult = 0;

        
        //List Level 1
        jmlDataa = obj["read_content"].length;
        jmlvalue = obj["read_value"].length;
        // var Sts = obj['read_sectionresult']['status'];
        // var Msg = obj['read_sectionresult']['message'];
        //  console.log(jmlvalue+" "+section);
        //  console.log(sign_release);

        if(section=='CYCLE'){
          if (jmlvalue == 0 || sign_release == "RELEASE"){
            $('.PICcheckerlistCy').addClass('disabled');
            $('#BtnReToDesC').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            $('#BtnReToPLC').html('<div class="ui disabled small compact button" >Return to PL</div>');
          } else {
            $('.PICcheckerlistCy').removeClass('disabled');
            if(obj["read_sectionprogress"][0]["progress"] === "RETURN DESIGNER"){
              $('#BtnReToDesC').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            } else {
              $('#BtnReToDesC').html('<div sect="CYCLE" class="ui teal small compact button BtnReturnToDesigner" data-tooltip="Kembalikan PSC ini ke Designer" data-position="top left" data-inverted="">Return to Designer</div>');
            }
            $('#BtnReToPLC').html('<div class="ui teal small compact button BtnReturnToPL" data-tooltip="Kembalikan PSC ini ke Project Leader" data-position="top left" data-inverted="">Return to PL</div>');
          }
        }

        if(section=='ELECTRONIC'){
          if (jmlvalue == 0 || sign_release == "RELEASE"){
            $('.PICcheckerlistEl').addClass('disabled');
            $('#BtnReToDesE').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            $('#BtnReToPLE').html('<div class="ui disabled small compact button" >Return to PL</div>');
          } else {
            $('.PICcheckerlistEl').removeClass('disabled');
            if(obj["read_sectionprogress"][0]["progress"] === "RETURN DESIGNER"){
              $('#BtnReToDesE').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            } else {
              $('#BtnReToDesE').html('<div sect="ELECTRONIC" class="ui teal small compact button BtnReturnToDesigner" data-tooltip="Kembalikan PSC ini ke Designer" data-position="top left" data-inverted="">Return to Designer</div>');
            }
            $('#BtnReToPLE').html('<div class="ui teal small compact button BtnReturnToPL" data-tooltip="Kembalikan PSC ini ke Project Leader" data-position="top left" data-inverted="">Return to PL</div>');
          }
        }

        if(section=='MD'){
          if (jmlvalue == 0 || sign_release == "RELEASE"){
            $('.PICcheckerlistMd').addClass('disabled');
            $('#BtnReToDesM').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            $('#BtnReToPLM').html('<div class="ui disabled small compact button" >Return to PL</div>');
          } else {
            $('.PICcheckerlistMd').removeClass('disabled');
            if(obj["read_sectionprogress"][0]["progress"] === "RETURN DESIGNER"){
              $('#BtnReToDesM').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            } else {
              $('#BtnReToDesM').html('<div sect="MD" class="ui teal small compact button BtnReturnToDesigner" data-tooltip="Kembalikan PSC ini ke Designer" data-position="top left" data-inverted="">Return to Designer</div>');
            }
            $('#BtnReToPLM').html('<div class="ui teal small compact button BtnReturnToPL" data-tooltip="Kembalikan PSC ini ke Project Leader" data-position="top left" data-inverted="">Return to PL</div>');
          }
        }

        if(section=='ID'){
          if (jmlvalue == 0 || sign_release == "RELEASE"){
            $('.PICcheckerlistId').addClass('disabled');
            $('#BtnReToDesI').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            $('#BtnReToPLI').html('<div class="ui disabled small compact button" >Return to PL</div>');
          } else {
            $('.PICcheckerlistId').removeClass('disabled');
            if(obj["read_sectionprogress"][0]["progress"] === "RETURN DESIGNER"){
              $('#BtnReToDesI').html('<div class="ui disabled small compact button" >Return to Designer</div>');
            } else {
              $('#BtnReToDesI').html('<div sect="ID" class="ui teal small compact button BtnReturnToDesigner" data-tooltip="Kembalikan PSC ini ke Designer" data-position="top left" data-inverted="">Return to Designer</div>');
            }
            $('#BtnReToPLI').html('<div class="ui teal small compact button BtnReturnToPL" data-tooltip="Kembalikan PSC ini ke Project Leader" data-position="top left" data-inverted="">Return to PL</div>');
          }
        }



        if(obj['read_sectionprogress'][0]['c_section'] =='CYCLE' ){
          $('#VersiCy').text(obj['read_sectionprogress'][0]['no_progress']);
        }
        if(obj['read_sectionprogress'][0]['c_section'] =='ELECTRONIC' ){
          $('#VersiEl').text(obj['read_sectionprogress'][0]['no_progress']);
        }
        if(obj['read_sectionprogress'][0]['c_section'] =='MD' ){
          $('#VersiMD').text(obj['read_sectionprogress'][0]['no_progress']);
        }
        if(obj['read_sectionprogress'][0]['c_section'] =='ID' ){
          $('#VersiID').text(obj['read_sectionprogress'][0]['no_progress']);
        }

        if(jmlDataa < 2){
          $("#ID"+section).hide();
        } else {
          $("#ID"+section).show();
        }
        for (a = 0; a < jmlDataa; a++) {
          $(TC).append(
          "<div class='active title'>"+
            "<i class='dropdown icon'></i>"+obj["read_content"][a]['c_name']+
          "</div>"+
          "<div class='active content'>"+
            "<table class='ui striped very basic very compact table "+section+a+"'>"+
              "<tbody>"+
              "</tbody>"+
            "</table>"+
          "</div>"
          );
          
          //List Level 2
          if (typeof obj["read_content"][a]['nodes'] !== "undefined") {
            jmlDatab = obj["read_content"][a]['nodes'].length;
            for (b = 0; b < jmlDatab; b++) {
              var id2 = obj["read_content"][a]['nodes'][b]['c_id'];
              var de2 = obj["read_content"][a]['nodes'][b]['c_name'];
              var at2 = obj["read_content"][a]['nodes'][b]['c_attrib'];
              var in2 = obj["read_content"][a]['nodes'][b]['c_input'];
              var op2 = obj["read_content"][a]['nodes'][b]['c_option'];
              var do2 = obj["read_content"][a]['nodes'][b]['c_docs'];
              var ad2 = do2.split(',');
              var npibp = do2.replace(",", "&nbsp;&nbsp;|&nbsp;&nbsp;");
              var npibp2 = "";
              if(do2){
                var npibp2 = "<div class='ui mini teal basic label TandaiNPI' idxx='"+id2+"' suppdocx='"+do2+"''>"+npibp+"</div>";
              }
              
              //Baca Value dari Json 'read_value' sesuai dengan content_id nya di level 2
              var val2    = "";
              var v_idv2  = "";
              var v_res2  = "";
              for (value_a = 0; value_a < jmlvalue; value_a++) {
                var v_idc2 = obj["read_value"][value_a]['v_idcontent'];
                if(id2 == v_idc2){
                  var val2    = obj["read_value"][value_a]['v_value'];
                  var v_idv2  = obj["read_value"][value_a]['v_id'];
                  var v_res2  = obj["read_value"][value_a]['v_result'];
                  var v_cek2 = obj["read_value"][value_a]['v_checker'];
                  var v_res2a = obj["read_value"][value_a]['v_result'];

                  if(!v_res2){
                    v_res2 = "-";
                  }
                  if(v_res2a === "NOT OK" || (v_res2a === "MODIF" && v_cek2) || (val2 && v_res2a !== "OK")){
                    Finalresult++
                  }
                  break;

                } else {
                  var v_cek2  = '';
                }
              }

              //Tampilkan jika data tersebut untuk Support Document NPI/BP
              if(($.inArray('NPI', ad2) > -1) && val2){
                var doc12 = "<div class='ui mini circular label teal'>NPI</div>"; 
              } else {
                var doc12 = "";
              }
              if(($.inArray('BP', ad2) > -1) && val2){
                var doc22 = "<div class='ui mini circular label'>BP</div>"; 
              } else {
                var doc22 = "";
              }

              if (v_cek2) {
                if(v_res2 === "OK"){
                  var iconresult2 = "<i class='check green icon'></i>";
                } else if (v_res2 === "NOT OK"){
                  var iconresult2 = "<div class='ui tiny left pointing red label'>NOT OK</div>";
                } else if (v_res2 === "MODIF"){
                  var iconresult2 = "<div class='ui tiny left pointing orange label'>MODIF</div>";
                } else {
                  var iconresult2 = "";
                }
              } else {
                var iconresult2 = "";
              }


              if(at2==="YES"){
                if(((val2 === '' || val2 === null || typeof val2 === 'undefined') && !v_cek2 )){

                  $('.'+section+a).find("tbody").append(
                    "<tr>"+
                      "<td width='1%' class='right aligned'></td>"+
                      "<td width='30%' class='left aligned' style='height: 32px;'><span class='sub1'>"+de2+"</span></td>"+
                      "<td width='50%' class='left aligned'><i style='color: #ccc;'>empty_value - no need verification</i></td>"+
                      "<td width='7%' class='left aligned'></td>"+
                      "<td width='10%' class='left aligned' ></td>"+
                    "</tr>"
                    );

                } else {

                  if(in2==="IMAGE"){
                    if (val2 ===""){
                      var dataimage2 = "<i style='color: #ccc;'>image empty / not set</i>";
                    } else {
                      var dataimage2 = "<img width='350' src='../RND_Upload/ProductSpec/"+val2+"'>";
                    }
                    $('.'+section+a).find("tbody").append(
                    "<tr>"+
                      "<td width='1%' class='right aligned'></td>"+
                      "<td width='30%' class='left aligned'><span class='sub1'>"+de2+"</span></td>"+
                      "<td width='50%' class='left aligned'>"+dataimage2+"</td>"+
                      "<td width='7%' class='left aligned'></td>"+
                      "<td width='10%' class='left aligned' >"+iconresult2+"</td>"+
                    "</tr>"
                    );
                  } else if(in2==="FILE"){
                    if (val2 ===""){
                      var datafile2 = "Belum upload file yang dimaksud.";
                    } else {
                      var datafile2 = "<a href='../RND_Upload/ProductSpec/"+val2+"' target='_blank'>"+val2+"</a>";
                    }
                    $('.'+section+a).find("tbody").append(
                    "<tr>"+
                      "<td width='1%' class='right aligned'></td>"+
                      "<td width='30%' class='left aligned'><span class='sub1'>"+de2+"</span></td>"+
                      "<td width='50%' class='left aligned'>"+datafile2+"</td>"+
                      "<td width='7%' class='left aligned'></td>"+
                      "<td width='10%' class='left aligned' >"+iconresult2+"</td>"+
                    "</tr>"
                    );
                  } else {
                    if (val2 ===""){
                      var dataval2 = "<i style='color: #ccc;'>set to empty value</i>";
                    } else {
                      var dataval2 = val2;
                    }
                    $('.'+section+a).find("tbody").append(
                    "<tr>"+
                      "<td width='1%' class='right aligned'></td>"+
                      "<td width='30%' class='left aligned'><span class='sub1'>"+de2+"</span></td>"+
                      "<td width='50%' class='left aligned'>"+dataval2+"</td>"+
                      "<td width='7%' class='left aligned'></td>"+
                      "<td width='10%' class='left aligned' >"+iconresult2+"</td>"+
                    "</tr>"
                    );
                  }
                }
              } else {
                $('.'+section+a).find("tbody").append(
                "<tr>"+
                  "<td width='1%' class='right aligned'></td>"+
                  "<td width='30%' class='left aligned'><span class='sub1'>"+de2+"</span></td>"+
                  "<td width='50%' class='left aligned'></td>"+
                  "<td width='7%' class='left aligned'></td>"+
                  "<td width='10%' class='left aligned' ></td>"+
                "</tr>"
                );
              }

              //List Level 3
              if (typeof obj["read_content"][a]['nodes'][b]['nodes'] !== 'undefined'){
                jmlDatac = obj["read_content"][a]['nodes'][b]['nodes'].length;
                for (c = 0; c < jmlDatac; c++) {
                  var id3 = obj["read_content"][a]['nodes'][b]['nodes'][c]['c_id'];
                  var de3 = obj["read_content"][a]['nodes'][b]['nodes'][c]['c_name'];
                  var at3 = obj["read_content"][a]['nodes'][b]['nodes'][c]['c_attrib'];
                  var in3 = obj["read_content"][a]['nodes'][b]['nodes'][c]['c_input'];
                  var op3 = obj["read_content"][a]['nodes'][b]['nodes'][c]['c_option'];
                  var do3 = obj["read_content"][a]['nodes'][b]['nodes'][c]['c_docs'];
                  var ad3 = do3.split(',');
                  var npibp = do3.replace(",", "&nbsp;&nbsp;|&nbsp;&nbsp;");
                  var npibp3 = "";
                  if(do3){
                    var npibp3 = "<div class='ui mini teal basic label TandaiNPI' idxx='"+id3+"' suppdocx='"+do3+"''>"+npibp+"</div>";
                  }
                  
                  

                  //Baca Value dari Json 'read_value' sesuai dengan content_id nya di level 3
                  var val3   = "";
                  var v_idv3 = "";
                  var v_res3 = "";
                  for (value_a = 0; value_a < jmlvalue; value_a++) {
                    var v_idc3 = obj["read_value"][value_a]['v_idcontent'];
                    if(id3 == v_idc3){
                      var val3   = obj["read_value"][value_a]['v_value'];
                      var v_idv3 = obj["read_value"][value_a]['v_id'];
                      var v_res3 = obj["read_value"][value_a]['v_result'];
                      var v_cek3 = obj["read_value"][value_a]['v_checker'];
                      var v_res3a = obj["read_value"][value_a]['v_result'];

                      if(!v_res3){
                        v_res3 = "-";
                      }
                      if(v_res3a === "NOT OK" || (v_res3a === "MODIF" && v_cek3) || (val3 && v_res3a !== "OK")){
                        Finalresult++
                      }
                      break;

                    } else {
                      var v_cek3  = '';
                    }

                  }

                  //Tampilkan jika data tersebut untuk Suppoert Document NPI/BP
                  if(($.inArray('NPI', ad3) > -1) && val3){
                    var doc13 = "<div class='ui mini circular label teal'>NPI</div>"; 
                  } else {
                    var doc13 = "";
                  }
                  if(($.inArray('BP', ad3) > -1) && val3){
                    var doc23 = "<div class='ui mini circular label'>BP</div>"; 
                  } else {
                    var doc23 = "";
                  }


                  if (v_cek3) {
                    if(v_res3 === "OK"){
                      var iconresult3 = "<i class='check green icon'></i>";
                    } else if (v_res3 === "NOT OK"){
                      var iconresult3 = "<div class='ui tiny left pointing red label'>NOT OK</div>";
                    } else if (v_res3 === "MODIF"){
                      var iconresult3 = "<div class='ui tiny left pointing orange label'>MODIF</div>";
                    } else {
                      var iconresult3 = "";
                    }
                  } else {
                    var iconresult3 = "";
                  }

                                  
                  if(at3==="YES"){
                    if((val3 === '' || val3 === null || typeof val3 === 'undefined') && !v_cek3 ){

                      $('.'+section+a).find("tbody").append(
                        "<tr>"+
                          "<td width='1%' class='right aligned'></td>"+
                          "<td width='30%' class='left aligned' style='height: 32px;'><span class='sub2'>"+de3+"</span></td>"+
                          "<td width='50%' class='left aligned'><i style='color: #ccc;'>empty_value - no need verification</i></td>"+
                          "<td width='7%' class='left aligned'></td>"+
                          "<td width='10%' class='left aligned' ></td>"+
                        "</tr>"
                        );
    
                    } else {
                      if(in3==="IMAGE"){
                        if (val3 ===""){
                          var dataimage3 = "<i style='color: #ccc;'>image empty / not set</i>";
                        } else {
                          var dataimage3 = "<img width='350' src='../RND_Upload/ProductSpec/"+val3+"'>";
                        }
                        $('.'+section+a).find("tbody").append(
                        "<tr>"+
                          "<td width='1%' class='right aligned'></td>"+
                          "<td width='30%' class='left aligned'><span class='sub2'>"+de3+"</span></td>"+
                          "<td width='50%' class='left aligned'>"+dataimage3+"</td>"+
                          "<td width='7%' class='left aligned'></td>"+
                          "<td width='10%' class='left aligned' >"+iconresult3+"</td>"+
                        "</tr>"
                        );
                      } else if(in3==="FILE"){
                        if (val3 ===""){
                          var datafile3 = "Belum upload file yang dimaksud.";
                        } else {
                          var datafile3 = "<a href='../RND_Upload/ProductSpec/"+val3+"' target='_blank'>"+val3+"</a>";
                        }
                        $('.'+section+a).find("tbody").append(
                        "<tr>"+
                          "<td width='1%' class='right aligned'></td>"+
                          "<td width='30%' class='left aligned'><span class='sub2'>"+de3+"</span></td>"+
                          "<td width='50%' class='left aligned'>"+datafile3+"</td>"+
                          "<td width='7%' class='left aligned'></td>"+
                          "<td width='10%' class='left aligned' >"+iconresult3+"</td>"+
                        "</tr>"
                        );
                      } else {
                        if (val3 ===""){
                          var dataval3 = "<i style='color: #ccc;'>set to empty value</i>";
                        } else {
                          var dataval3 = val3;
                        }
                        $('.'+section+a).find("tbody").append(
                        "<tr>"+
                          "<td width='1%' class='right aligned'></td>"+
                          "<td width='30%' class='left aligned'><span class='sub2'>"+de3+"</span></td>"+
                          "<td width='50%' class='left aligned'>"+dataval3+"</td>"+
                          "<td width='7%' class='left aligned'></td>"+
                          "<td width='10%' class='left aligned' >"+iconresult3+"</td>"+
                        "</tr>"
                        );
                      }
                    }
                  } else {
                    $('.'+section+a).find("tbody").append(
                    "<tr>"+
                      "<td width='1%' class='right aligned'></td>"+
                      "<td width='30%' class='left aligned'><span class='sub2'>"+de3+"</span></td>"+
                      "<td width='50%' class='left aligned'></td>"+
                      "<td width='7%' class='left aligned'></td>"+
                      "<td width='10%' class='left aligned'></td>"+
                    "</tr>"
                    );
                  }


                  //List Level 4
                  if (typeof obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'] !== 'undefined'){
                    jmlDatad = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'].length;
                    for (d = 0; d < jmlDatad; d++) {
                      var id4 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['c_id'];
                      var de4 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['c_name'];
                      var at4 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['c_attrib'];
                      var in4 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['c_input'];
                      var op4 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['c_option'];
                      var do4 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['c_docs'];
                      var ad4 = do4.split(',');
                      var npibp = do4.replace(",", "&nbsp;&nbsp;|&nbsp;&nbsp;");
                      var npibp4 = "";
                      if(do4){
                        var npibp4 = "<div class='ui mini teal basic label TandaiNPI' idxx='"+id4+"' suppdocx='"+do4+"''>"+npibp+"</div>";
                      }

                      //Baca Value dari Json 'read_value' sesuai dengan content_id nya di level 4
                      var val4   = "";
                      var v_idv4 = "";
                      var v_res4 = "";
                      for (value_a = 0; value_a < jmlvalue; value_a++) {
                        var v_idc4 = obj["read_value"][value_a]['v_idcontent'];
                        if(id4 == v_idc4){
                          var val4   = obj["read_value"][value_a]['v_value'];
                          var v_idv4 = obj["read_value"][value_a]['v_id'];
                          var v_res4 = obj["read_value"][value_a]['v_result'];
                          var v_cek4 = obj["read_value"][value_a]['v_checker'];
                          var v_res4a= obj["read_value"][value_a]['v_result'];

                          if(!v_res4){
                            v_res4 = "-";
                          }
                          if(v_res4a === "NOT OK" || (v_res4a === "MODIF" && v_cek4) || (val4 && v_res4a !== "OK")){
                            Finalresult++
                          }
                          break;
                        } else {
                          var v_cek4  = '';
                        }
                      }

                      //Tampilkan jika data tersebut untuk Suppoert Document NPI/BP
                      if(($.inArray('NPI', ad4) > -1) && val4){
                        var doc14 = "<div class='ui mini circular label teal'>NPI</div>"; 
                      } else {
                        var doc14 = "";
                      }
                      if(($.inArray('BP', ad4) > -1) && val4){
                        var doc24 = "<div class='ui mini circular label'>BP</div>"; 
                      } else {
                        var doc24 = "";
                      }

                      if (v_cek4) {
                        if(v_res4 === "OK"){
                          var iconresult4 = "<i class='check green icon'></i>";
                        } else if (v_res4 === "NOT OK"){
                          var iconresult4 = "<div class='ui tiny left pointing red label'>NOT OK</div>";
                        } else if (v_res4 === "MODIF"){
                          var iconresult4 = "<div class='ui tiny left pointing orange label'>MODIF</div>";
                        } else {
                          var iconresult4 = "";
                        }
                      } else {
                        var iconresult4 = "";
                      }

                      if(at4==="YES"){
                        if((val4 === '' || val4 === null || typeof val4 === 'undefined') && !v_cek4 ){

                          $('.'+section+a).find("tbody").append(
                            "<tr>"+
                              "<td width='1%' class='right aligned'></td>"+
                              "<td width='30%' class='left aligned' style='height: 32px;'><span class='sub3'>"+de4+"</span></td>"+
                              "<td width='50%' class='left aligned'><i style='color: #ccc;'>empty_value - no need verification</i></td>"+
                              "<td width='7%' class='left aligned'></td>"+
                              "<td width='10%' class='left aligned' ></td>"+
                            "</tr>"
                            );
        
                        } else {
                          if(in4==="IMAGE"){
                            if (val4 ===""){
                              var dataimage4 = "<i style='color: #ccc;'>image empty / not set</i>";
                            } else {
                              var dataimage4 = "<img width='350' src='../RND_Upload/ProductSpec/"+val4+"'>";
                            }
                            $('.'+section+a).find("tbody").append(
                            "<tr>"+
                              "<td width='1%' class='right aligned'></td>"+
                              "<td width='30%' class='left aligned'><span class='sub3'>"+de4+"</span></td>"+
                              "<td width='50%' class='left aligned'>"+dataimage4+"</td>"+
                              "<td width='7%' class='left aligned'></td>"+
                              "<td width='10%' class='left aligned' >"+iconresult4+"</td>"+
                            "</tr>"
                            );
                          } else if(in4==="FILE"){
                            if (val4 ===""){
                              var datafile4 = "Belum upload file yang dimaksud.";
                            } else {
                              var datafile4 = "<a href='../RND_Upload/ProductSpec/"+val4+"' target='_blank'>"+val4+"</a>";
                            }
                            $('.'+section+a).find("tbody").append(
                            "<tr>"+
                              "<td width='1%' class='right aligned'></td>"+
                              "<td width='30%' class='left aligned'><span class='sub3'>"+de4+"</span></td>"+
                              "<td width='50%' class='left aligned'>"+datafile4+"</td>"+
                              "<td width='7%' class='left aligned'></td>"+
                              "<td width='10%' class='left aligned' >"+iconresult4+"</td>"+
                            "</tr>"
                            );
                          } else {
                            if (val4 ===""){
                              var dataval4 = "<i style='color: #ccc;'>set to empty value</i>";
                            } else {
                              var dataval4 = val4;
                            }
                            $('.'+section+a).find("tbody").append(
                            "<tr>"+
                              "<td width='1%' class='right aligned'></td>"+
                              "<td width='30%' class='left aligned'><span class='sub3'>"+de4+"</span></td>"+
                              "<td width='50%' class='left aligned'>"+dataval4+"</td>"+
                              "<td width='7%' class='left aligned'></td>"+
                              "<td width='10%' class='left aligned' >"+iconresult4+"</td>"+
                            "</tr>"
                            );
                          }
                        }
                      } else {
                        $('.'+section+a).find("tbody").append(
                        "<tr>"+
                          "<td width='1%' class='right aligned'></td>"+
                          "<td width='30%' class='left aligned'><span class='sub3'>"+de4+"</span></td>"+
                          "<td width='50%' class='left aligned'></td>"+
                          "<td width='7%' class='left aligned'></td>"+
                          "<td width='10%' class='left aligned'></td>"+
                        "</tr>"
                        );
                      }

                      //List Level 5
                      if (typeof obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'] !== 'undefined'){
                        jmlDatae = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'].length;
                        for (e = 0; e < jmlDatae; e++) {
                          var id5 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'][e]['c_id'];
                          var de5 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'][e]['c_name'];
                          var at5 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'][e]['c_attrib'];
                          var in5 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'][e]['c_input'];
                          var op5 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'][e]['c_option'];
                          var do5 = obj["read_content"][a]['nodes'][b]['nodes'][c]['nodes'][d]['nodes'][e]['c_docs'];
                          var ad5 = do5.split(',');
                          var npibp = do5.replace(",", "&nbsp;&nbsp;|&nbsp;&nbsp;");
                          var npibp5 = "";
                          if(do5){
                            var npibp5 = "<div class='ui mini teal basic label TandaiNPI' idxx='"+id5+"' suppdocx='"+do5+"''>"+npibp+"</div>";
                          }
                          
                          

                          //Baca Value dari Json 'read_value' sesuai dengan content_id nya di level 5
                          var val5   = "";
                          var v_idv5 = "";
                          var v_res5 = "";
                          for (value_a = 0; value_a < jmlvalue; value_a++) {
                            var v_idc5 = obj["read_value"][value_a]['v_idcontent'];
                            if(id5 == v_idc5){
                              var val5   = obj["read_value"][value_a]['v_value'];
                              var v_res5 = obj["read_value"][value_a]['v_result'];
                              var v_cek5 = obj["read_value"][value_a]['v_checker'];
                              var v_res5a = obj["read_value"][value_a]['v_result'];

                              if(!v_res5){
                                v_res5 = "-";
                              }
                              if(v_res5a === "NOT OK" || (v_res5a === "MODIF" && v_cek5) || (val5 && v_res5a !== "OK")){
                                Finalresult++
                              }
                              break;

                            } else {
                              var v_cek5  = '';
                            }

                          }

                          //Tampilkan jika data tersebut untuk Suppoert Document NPI/BP
                          if(($.inArray('NPI', ad5) > -1) && val5){
                            var doc15 = "<div class='ui mini circular label teal'>NPI</div>"; 
                          } else {
                            var doc15 = "";
                          }
                          if(($.inArray('NPI', ad5) > -1) && val5){
                            var doc25 = "<div class='ui mini circular label'>BP</div>"; 
                          } else {
                            var doc25 = "";
                          }

                          if (v_cek5) {
                            if(v_res5 === "OK"){
                              var iconresult5 = "<i class='check green icon'></i>";
                            } else if (v_res5 === "NOT OK"){
                              var iconresult5 = "<div class='ui tiny left pointing red label'>NOT OK</div>";
                            } else if (v_res5 === "MODIF"){
                              var iconresult5 = "<div class='ui tiny left pointing orange label'>MODIF</div>";
                            } else {
                              var iconresult5 = "";
                            }
                          } else {
                            var iconresult5 = "";
                          }

                          if(at5==="YES"){

                            if((val5 === '' || val5 === null || typeof val5 === 'undefined') && !v_cek5 ){

                              $('.'+section+a).find("tbody").append(
                                "<tr>"+
                                  "<td width='1%' class='right aligned'></td>"+
                                  "<td width='30%' class='left aligned' style='height: 32px;'><span class='sub4'>"+de5+"</span></td>"+
                                  "<td width='50%' class='left aligned'><i style='color: #ccc;'>empty_value - no need verification</i></td>"+
                                  "<td width='7%' class='left aligned'></td>"+
                                  "<td width='10%' class='left aligned' ></td>"+
                                "</tr>"
                                );
            
                            } else {

                              if(in5==="IMAGE"){
                                if (val5 ===""){
                                  var dataimage5 = "<i style='color: #ccc;'>image empty / not set</i>";
                                } else {
                                  var dataimage5 = "<img width='350' src='../RND_Upload/ProductSpec/"+val5+"'>";
                                }
                                $('.'+section+a).find("tbody").append(
                                "<tr>"+
                                  "<td width='1%' class='right aligned'></td>"+
                                  "<td width='30%' class='left aligned'><span class='sub4'>"+de5+"</span></td>"+
                                  "<td width='50%' class='left aligned'>"+dataimage5+"</td>"+
                                  "<td width='7%' class='left aligned'></td>"+
                                  "<td width='10%' class='left aligned' >"+iconresult5+"</td>"+
                                "</tr>"
                                );
                              } else if(in5==="FILE"){
                                if (val5 ===""){
                                  var datafile5 = "Belum upload file yang dimaksud.";
                                } else {
                                  var datafile5 = "<a href='../RND_Upload/ProductSpec/"+val5+"' target='_blank'>"+val5+"</a>";
                                }
                                $('.'+section+a).find("tbody").append(
                                "<tr>"+
                                  "<td width='1%' class='right aligned'></td>"+
                                  "<td width='30%' class='left aligned'><span class='sub4'>"+de5+"</span></td>"+
                                  "<td width='50%' class='left aligned'>"+datafile5+"</td>"+
                                  "<td width='7%' class='left aligned'></td>"+
                                  "<td width='10%' class='left aligned' >"+iconresult5+"</td>"+
                                "</tr>"
                                );
                              } else {
                                if (val5 ===""){
                                  var dataval5 = "<i style='color: #ccc;'>set to empty value</i>";
                                } else {
                                  var dataval5 = val5;
                                }
                                $('.'+section+a).find("tbody").append(
                                "<tr>"+
                                  "<td width='1%' class='right aligned'></td>"+
                                  "<td width='30%' class='left aligned'><span class='sub4'>"+de5+"</span></td>"+
                                  "<td width='50%' class='left aligned'>"+dataval5+"</td>"+
                                  "<td width='7%' class='left aligned'></td>"+
                                  "<td width='10%' class='left aligned' >"+iconresult5+"</td>"+
                                "</tr>"
                                );
                              }
                            }
                          } else {
                            $('.'+section+a).find("tbody").append(
                            "<tr>"+
                              "<td width='1%' class='right aligned'></td>"+
                              "<td width='30%' class='left aligned'><span class='sub4'>"+de5+"</span></td>"+
                              "<td width='50%' class='left aligned'></td>"+
                              "<td width='7%' class='left aligned'></td>"+
                              "<td width='10%' class='left aligned'></td>"+
                            "</tr>"
                            );
                          }
                        }
                      }
                    }
                  }
                }
              }
            
            }
          
          } 
        }
      }
      FungsiTableContent();
      // FungsiSaveValue();
      if(Finalresult>0){
        var FResult = "NOT OK";
      } else {
        var FResult = "OK";
      }
      $("#FinalResult"+section).text(FResult);


    },
    error: function () {
      if (LogoutProtect){
        window.location.href = "./?link=loclogout";
      } else {
        Swal.fire("Error", "Server tidak merespon, segera hubungi Administrator di ext. 3553 !","error" );
      }
    },
  });

}

// $('#xwinbplengkap').click(function(){
    
//   var sct = getCookie("section");
//   var jbt = getCookie("jabatan");
//   // console.log(pic);
//   $.ajax({
//     type    : "POST",
//     url     : `../RND_BackEnd/backend_psc/load-bplengkap`,
//     headers : {
//       user  : vusrnm,
//       token : vtoken
//     },
//     data: {
//       type_supply    : tipe
//     },
//     cache: false,
//     success: function (response){
//       var obj = JSON.parse(response);
//       $(".xwinbplengkap").modal({
//         autofocus: false,
//       }).modal("show");
//       if(isEmpty(obj)) {
//         IsResponseEmptyObj();
//       } else {
        
//         $("#ReportList").empty();
//         // console.log(pic);
//         jmlData = obj.length;
        
//         for (a = 0; a < jmlData; a++) {
          
//             var filelink = "<a target='_blank' href='../RND_Upload/BP/BPLengkap/"+obj[a]["NamaFile"]+"'><i class='file pdf red icon'></i></a>";
//             $("#TableReportList").find("tbody").append(
//               "<tr>"+ 
//               "<td width='20%'>"+obj[a]['no_bp']+"</td>"+
//               "<td width='10%'>"+obj[a]['rev']+"</td>"+
//               "<td width='30%'>"+obj[a]['note']+"</td>"+
//               "<td width='20%'>"+obj[a]['Date']+"</td>"+
//               "<td width='20%'>"+filelink+"</td>"+
//               "</tr><tr></tr>"
//             );
             
//         }
//         $("#FootFeedCheckList").empty();
          
       
        
//       }
//     }
// });
// // $("#PSCRejectSection").dropdown("clear");
// });



$(document).ready(function () {

  LoadDataSign();

  if(groupprd =="BROWN GOODS"){
    LoadDataContent('ELECTRONIC');
    LoadDataPICDQA('ELECTRONIC');
  } else {
    LoadDataContent('CYCLE');
    LoadDataContent('ELECTRONIC');
    LoadDataPICDQA('CYCLE');
    LoadDataPICDQA('ELECTRONIC');
  }
  LoadDataContent('MD');
  LoadDataContent('ID');
  LoadDataPICDQA('MD');
  LoadDataPICDQA('ID');


  $('#cyclepic_e').text(pic_c);
  $('#electpic_e').text(pic_e);
  $('#mdpic_e').text(pic_m);
  $('#idpic_e').text(pic_i);

  

  $('#tabpsclist').on('click', function() {
    window.location.href = "./?link=pscindex";
  });

  $('#tabcompare').on('click', function() {
    window.location.href = "./?link=psccompare";
  });

  $('.tabuserguide').on('click', function() {
    window.location.href = "./?link=guidepsc";
  });
  $('.tabsuratgolive').on('click', function() {
    window.location.href = "./?link=golivepsc";
  });
  $('.tabhasilmonitoring').on('click', function() {
    window.location.href = "./?link=monitorpsc";
  });
  $('.tabversion').on('click', function() {
    window.location.href = "./?link=versionhistory&app=PSC";
  });

  
});




// Fungsi untuk fungsi yang di dalam Table Content
function FungsiTableContent(){

  $('.ui.accordion').accordion(
    {exclusive : false}
  );

}




$('.CancelData').click(function(){
  $(".xwinuploadpic").modal("hide");
  $(".xwinaddchild-main").modal("hide");
  $(".xwinaddchild").modal("hide");
  $(".xwinengineersign").modal("hide");
  $(".xwinrejecthog").modal("hide");
  $(".xwinrejectpl").modal("hide");
  $('.ui.accordion').accordion({exclusive : false});
  $(".xwinsortgroup").modal("hide");
  $(".xwinsortgroupL2").modal("hide");
});
